<!DOCTYPE html>
<html>
  <head>
  　<meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/custom.css">
    <link rel="stylesheet" href="/assets/css/pygments.css">
    
  　<title>代码简洁之道（二）</title>
    <style type="text/css">
      body{
        text-align: left;
      }

      h1, h2{
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="container_fluid">
      <div class="row">
        <div class="col-md-3">
        </div>
        <div class="col-md-9">
          <div class="page-content">
          <h3 id="section">数据、对象的反对称性</h3>

<ul>
  <li>数据结构、对象或者说具体、抽象的本质区别在于是否暴露数据细节。</li>
  <li>过程式代码便于添加新函数，不便于添加新数据结构。对象式代码便于添加新类，不便于添加新函数</li>
</ul>

<h3 id="section-1">错误处理</h3>

<ul>
  <li>封装第三方类同时封装其catch异常</li>
  <li>不要返回、传递null</li>
</ul>

<h3 id="section-2">边界</h3>

<ul>
  <li>慎用类似map等可以使用泛型的接口
ap<Sensor> sensors = new HashMap<Sensor>();
Sensor s = sensors.get(sensorId );
建议替换为
public class Sensors {
private Map sensors = new HashMap();
public Sensor getById(String id) { 
    return (Sensor) sensors.get(id);
}
//snip 
}</Sensor></Sensor></li>
  <li>学习性测试，通过测试驱动了解第三方库</li>
  <li>为尚未开发的代码预留接口，如适配器模式</li>
</ul>

<h3 id="section-3">单元测试</h3>

<ul>
  <li>只编写刚好失败的单元测试</li>
  <li>整洁</li>
  <li>一个测试一个概念</li>
</ul>

<h3 id="section-4">类</h3>

<ul>
  <li>当类名无法准确、完全的描述类的职责时，它太大了。单一权责，保持内聚。</li>
  <li>为了修改而组织</li>
</ul>

<h3 id="section-5">系统</h3>

<p>没看懂</p>

<h3 id="section-6">迭进</h3>

<ul>
  <li>运行所有测试</li>
  <li>不可重复。可以用模板类消除明显的重复</li>
  <li>注意代码的表达力</li>
  <li>使用恰当数量的类和方法</li>
</ul>

<h3 id="section-7">并发编程</h3>

<ul>
  <li>单一权责，分离不需要并发的代码</li>
  <li>限制数据作用域，严格限制共享数据的访问</li>
  <li>使用数据副本</li>
  <li>线程尽可能独立</li>
  <li>多了解并发类</li>
  <li>了解并发的执行模式：限定资源，互斥，线程饥饿，死锁，活锁</li>
  <li>常用基础算法–生产者、消费者；读者、作者；宴席哲学家</li>
  <li>避免使用一个共享对象的多个方法，可以：基于客户端锁定，基于服务端锁定，适配服务端</li>
  <li>尽可能缩小同步区</li>
  <li>尽早考虑关闭系统的问题，因为有各种可能会死锁</li>
  <li>编写可插拔，可调整的线程代码，运行多于处理器数量的线程，在不同平台上运行，强迫错误发生。在不同的编程配置，系统配置，负载下频繁运行。</li>
  <li>java中装置试错代码  没看懂</li>
</ul>


          </div>
        </div>
      </div>
    </div>
  　　

  </body>
  <script type="text/javascript" src="/assets/js/jquery-1.12.4.min.js"></script>
  <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
</html>